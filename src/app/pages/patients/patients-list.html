<div class="toolbar">
    
    <mat-form-field appearance="outline" class="full-width">
    <mat-label>Search Patients</mat-label>
      <input matInput [(ngModel)]="searchTerm" (keyup)="applyFilter()" placeholder="Type to search..." />
    </mat-form-field>
</div>


  <table mat-table [dataSource]="filteredPatients()" matSort class="mat-elevation-z8">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
      <td mat-cell *matCellDef="let p">{{p.lastName}}, {{p.firstName}}</td>
    </ng-container>

    <ng-container matColumnDef="dob">
      <th mat-header-cell *matHeaderCellDef>DOB</th>
      <td mat-cell *matCellDef="let p">{{p.dob | date}}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let p">
        <button mat-icon-button (click)="goToDashboard(p)" matTooltip="View Patient Record" class="open-button">
          <mat-icon>open_in_new</mat-icon>
        </button>
        <button mat-icon-button (click)="openConfirmDialog(p.id!)" matTooltip="Delete Patient Record" class="delete-button">
          <mat-icon>delete_forever</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="cols"></tr>
    <tr mat-row *matRowDef="let row; columns: cols;"></tr>
  </table>

  <button mat-fab color="primary" (click)="openAdd()" class="fab">
    <mat-icon>add</mat-icon>
  </button>